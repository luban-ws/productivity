import { resolveComponent, useSSRContext } from "vue";
import { ssrRenderAttrs, ssrRenderStyle, ssrRenderSuspense, ssrRenderComponent } from "vue/server-renderer";
import { _ as _export_sfc } from "./plugin-vue_export-helper.1tPrXgE0.js";
const __pageData = JSON.parse('{"title":"青鸟 (Qingniao)","description":"","frontmatter":{},"headers":[],"relativePath":"tools/qingniao.md","filePath":"tools/qingniao.md"}');
const _sfc_main = { name: "tools/qingniao.md" };
function _sfc_ssrRender(_ctx, _push, _parent, _attrs, $props, $setup, $data, $options) {
  const _component_Mermaid = resolveComponent("Mermaid");
  _push(`<div${ssrRenderAttrs(_attrs)}><h1 id="青鸟-qingniao" tabindex="-1">青鸟 (Qingniao) <a class="header-anchor" href="#青鸟-qingniao" aria-label="Permalink to &quot;青鸟 (Qingniao)&quot;">​</a></h1><blockquote><p><strong>相见时难别亦难，东风无力百花残。</strong><strong>春蚕到死丝方尽，蜡炬成灰泪始干。</strong><strong>晓镜但愁云鬓改，夜吟应觉月光寒。</strong><strong>蓬山此去无多路，青鸟殷勤为探看。</strong> —— 李商隐《无题》</p></blockquote><p>🌌 青鸟 - 零配置优先的通用发布工具，专为 monorepo 项目设计</p><h2 id="📖-关于青鸟" tabindex="-1">📖 关于青鸟 <a class="header-anchor" href="#📖-关于青鸟" aria-label="Permalink to &quot;📖 关于青鸟&quot;">​</a></h2><p>青鸟是中国神话中西王母的信使，负责将消息和物品准确、及时地传递到人间。正如李商隐《无题》所描绘：&quot;蓬山此去无多路，青鸟殷勤为探看&quot;，青鸟工具如诗中的信使一般，殷勤地将您的代码包准确、优雅地传递到 NPM 仓库，即使前路遥远，也必使命必达。</p><h2 id="✨-核心特性" tabindex="-1">✨ 核心特性 <a class="header-anchor" href="#✨-核心特性" aria-label="Permalink to &quot;✨ 核心特性&quot;">​</a></h2><h3 id="🎯-零配置优先" tabindex="-1">🎯 零配置优先 <a class="header-anchor" href="#🎯-零配置优先" aria-label="Permalink to &quot;🎯 零配置优先&quot;">​</a></h3><ul><li><strong>自动检测</strong>：自动检测包管理器、workspace 类型、构建工具（Turbo/Nx）</li><li><strong>智能推断</strong>：从项目结构自动推断构建步骤、产物路径、版本策略</li><li><strong>开箱即用</strong>：大多数项目无需配置文件即可使用</li></ul><h3 id="🚀-深度集成" tabindex="-1">🚀 深度集成 <a class="header-anchor" href="#🚀-深度集成" aria-label="Permalink to &quot;🚀 深度集成&quot;">​</a></h3><ul><li><strong>pnpm/yarn/npm workspace</strong>：完整支持，自动处理依赖顺序</li><li><strong>Changeset</strong>：深度集成，自动检测和使用 changeset</li><li><strong>Turbo/Nx</strong>：自动检测并使用构建工具的依赖图</li><li><strong>Git</strong>：自动处理版本提交、标签创建、远程推送</li></ul><h3 id="⚙️-灵活配置" tabindex="-1">⚙️ 灵活配置 <a class="header-anchor" href="#⚙️-灵活配置" aria-label="Permalink to &quot;⚙️ 灵活配置&quot;">​</a></h3><ul><li><strong>配置文件可选</strong>：仅在需要时覆盖自动检测结果</li><li><strong>部分覆盖</strong>：只需配置需要自定义的部分</li><li><strong>多种格式</strong>：支持 JSON、JavaScript、TypeScript 配置文件</li></ul><h2 id="📦-安装" tabindex="-1">📦 安装 <a class="header-anchor" href="#📦-安装" aria-label="Permalink to &quot;📦 安装&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}"># 全局安装</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">npm</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> install</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> -g</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> @systembug/qingniao</span></span>
<span class="line"></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}"># 或项目本地安装</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">pnpm</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> add</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> -D</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> @systembug/qingniao</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}"># 或</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">npm</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> install</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> --save-dev</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> @systembug/qingniao</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}"># 或</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">yarn</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> add</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> -D</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> @systembug/qingniao</span></span></code></pre></div><h3 id="可选依赖" tabindex="-1">可选依赖 <a class="header-anchor" href="#可选依赖" aria-label="Permalink to &quot;可选依赖&quot;">​</a></h3><p>如果使用 changeset 进行版本管理，需要单独安装 <code>@changesets/cli</code>：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">pnpm</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> add</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> -D</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> @changesets/cli</span></span></code></pre></div><h2 id="🚀-快速开始" tabindex="-1">🚀 快速开始 <a class="header-anchor" href="#🚀-快速开始" aria-label="Permalink to &quot;🚀 快速开始&quot;">​</a></h2><h3 id="零配置使用-推荐" tabindex="-1">零配置使用（推荐） <a class="header-anchor" href="#零配置使用-推荐" aria-label="Permalink to &quot;零配置使用（推荐）&quot;">​</a></h3><p>在标准 monorepo 项目中，直接运行：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">qingniao</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}"># 或使用简短命令</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">qn</span></span></code></pre></div><p>工具会自动：</p><ul><li>检测 pnpm/yarn/npm workspace</li><li>发现所有可发布的包（自动排除私有包）</li><li>检测并使用 changeset（如果存在）</li><li>从 package.json 推断构建步骤</li><li>自动处理版本管理和发布</li></ul><h3 id="在-package-json-中添加脚本" tabindex="-1">在 package.json 中添加脚本 <a class="header-anchor" href="#在-package-json-中添加脚本" aria-label="Permalink to &quot;在 package.json 中添加脚本&quot;">​</a></h3><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">{</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}">  &quot;scripts&quot;</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">: {</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}">    &quot;release&quot;</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">: </span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">&quot;qingniao&quot;</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">,</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}">    &quot;release:dry-run&quot;</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">: </span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">&quot;qingniao --dry-run&quot;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">  }</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">}</span></span></code></pre></div><p>然后运行：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">pnpm</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> release</span></span></code></pre></div><h2 id="🎯-零配置自动检测" tabindex="-1">🎯 零配置自动检测 <a class="header-anchor" href="#🎯-零配置自动检测" aria-label="Permalink to &quot;🎯 零配置自动检测&quot;">​</a></h2><p>青鸟工具会自动检测以下信息，<strong>无需任何配置文件</strong>：</p>`);
  ssrRenderSuspense(_push, {
    default: () => {
      _push(ssrRenderComponent(_component_Mermaid, {
        id: "mermaid-150",
        class: "mermaid",
        graph: "graph%20LR%0A%20%20%20%20A%5B%E9%A1%B9%E7%9B%AE%E6%A0%B9%E7%9B%AE%E5%BD%95%5D%20--%3E%20B%5B%E6%A3%80%E6%B5%8B%E5%8C%85%E7%AE%A1%E7%90%86%E5%99%A8%5D%0A%20%20%20%20A%20--%3E%20C%5B%E6%A3%80%E6%B5%8B%20Workspace%5D%0A%20%20%20%20A%20--%3E%20D%5B%E6%A3%80%E6%B5%8B%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7%5D%0A%20%20%20%20A%20--%3E%20E%5B%E6%A3%80%E6%B5%8B%E7%89%88%E6%9C%AC%E7%AD%96%E7%95%A5%5D%0A%20%20%20%20A%20--%3E%20F%5B%E5%8F%91%E7%8E%B0%E5%8C%85%E5%88%97%E8%A1%A8%5D%0A%0A%20%20%20%20B%20--%3E%20G%5Bpackage.json%3Cbr%2F%3EpackageManager%5D%0A%20%20%20%20C%20--%3E%20H%5Bpnpm-workspace.yaml%3Cbr%2F%3E%E6%88%96%20package.json%20workspaces%5D%0A%20%20%20%20D%20--%3E%20I%5Bturbo.json%3Cbr%2F%3E%E6%88%96%20nx.json%5D%0A%20%20%20%20E%20--%3E%20J%5B.changeset%20%E7%9B%AE%E5%BD%95%5D%0A%20%20%20%20F%20--%3E%20K%5Bpnpm%20list%3Cbr%2F%3E%E6%88%96%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D%5D%0A%0A%20%20%20%20G%20--%3E%20L%5B%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE%5D%0A%20%20%20%20H%20--%3E%20L%0A%20%20%20%20I%20--%3E%20L%0A%20%20%20%20J%20--%3E%20L%0A%20%20%20%20K%20--%3E%20L%0A%0A%20%20%20%20style%20A%20fill%3A%23e3f2fd%0A%20%20%20%20style%20L%20fill%3A%23c8e6c9%0A"
      }, null, _parent));
    },
    fallback: () => {
      _push(` Loading... `);
    },
    _: 1
  });
  _push(`<h3 id="自动检测项" tabindex="-1">自动检测项 <a class="header-anchor" href="#自动检测项" aria-label="Permalink to &quot;自动检测项&quot;">​</a></h3><ul><li>✅ <strong>包管理器</strong>：从 <code>package.json</code> 的 <code>packageManager</code> 字段检测</li><li>✅ <strong>Workspace 类型</strong>：从 <code>pnpm-workspace.yaml</code>、<code>package.json</code> workspaces 自动检测</li><li>✅ <strong>包列表</strong>：使用包管理器命令自动发现所有包</li><li>✅ <strong>包过滤</strong>：自动排除私有包（<code>private: true</code>）和无效配置的包</li><li>✅ <strong>版本策略</strong>：检测 <code>.changeset</code> 目录，自动选择 changeset 或 manual 策略</li><li>✅ <strong>构建工具</strong>：从 <code>turbo.json</code> 或 <code>nx.json</code> 自动检测 Turbo/Nx</li><li>✅ <strong>构建步骤</strong>：从 <code>package.json</code> scripts 自动生成构建步骤</li><li>✅ <strong>构建产物路径</strong>：从每个包的 <code>package.json</code> 自动推断（main/module/types 字段）</li><li>✅ <strong>Git 分支</strong>：自动检测当前分支</li><li>✅ <strong>依赖顺序</strong>：自动分析 workspace 依赖关系，拓扑排序</li></ul><h3 id="包发布验证" tabindex="-1">包发布验证 <a class="header-anchor" href="#包发布验证" aria-label="Permalink to &quot;包发布验证&quot;">​</a></h3><p>青鸟会自动验证每个包的发布配置：</p><ul><li>✅ 检查是否为私有包（自动排除）</li><li>✅ 对于 scoped packages（如 <code>@systembug/xxx</code>），检查 <code>publishConfig.access</code> 是否为 <code>&quot;public&quot;</code></li><li>✅ 显示详细的验证错误和警告</li></ul><h2 id="📋-发布流程" tabindex="-1">📋 发布流程 <a class="header-anchor" href="#📋-发布流程" aria-label="Permalink to &quot;📋 发布流程&quot;">​</a></h2><p>青鸟的发布流程如下：</p>`);
  ssrRenderSuspense(_push, {
    default: () => {
      _push(ssrRenderComponent(_component_Mermaid, {
        id: "mermaid-235",
        class: "mermaid",
        graph: "flowchart%20TD%0A%20%20%20%20A%5B%E5%BC%80%E5%A7%8B%E5%8F%91%E5%B8%83%5D%20--%3E%20B%5B%E7%8E%AF%E5%A2%83%E6%A3%80%E6%9F%A5%5D%0A%20%20%20%20B%20--%3E%20C%7BNPM%20%E8%AE%A4%E8%AF%81%7D%0A%20%20%20%20C%20--%3E%7C%E6%9C%AA%E7%99%BB%E5%BD%95%7C%20D%5B%E6%8F%90%E7%A4%BA%E7%99%BB%E5%BD%95%5D%0A%20%20%20%20C%20--%3E%7C%E5%B7%B2%E7%99%BB%E5%BD%95%7C%20E%5BGit%20%E7%8A%B6%E6%80%81%E6%A3%80%E6%9F%A5%5D%0A%20%20%20%20E%20--%3E%20F%7B%E5%B7%A5%E4%BD%9C%E5%8C%BA%E5%B9%B2%E5%87%80%3F%7D%0A%20%20%20%20F%20--%3E%7C%E5%90%A6%7C%20G%5B%E6%8F%90%E7%A4%BA%E6%8F%90%E4%BA%A4%E6%9B%B4%E6%94%B9%5D%0A%20%20%20%20F%20--%3E%7C%E6%98%AF%7C%20H%5B%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86%5D%0A%20%20%20%20H%20--%3E%20I%7B%E9%9C%80%E8%A6%81%E6%9B%B4%E6%96%B0%E7%89%88%E6%9C%AC%3F%7D%0A%20%20%20%20I%20--%3E%7C%E6%98%AF%7C%20J%5B%E9%80%89%E6%8B%A9%E7%89%88%E6%9C%AC%E7%B1%BB%E5%9E%8B%5D%0A%20%20%20%20J%20--%3E%20K%5B%E6%9B%B4%E6%96%B0%E6%89%80%E6%9C%89%E5%8C%85%E7%89%88%E6%9C%AC%5D%0A%20%20%20%20I%20--%3E%7C%E5%90%A6%7C%20L%5B%E6%9E%84%E5%BB%BA%E9%AA%8C%E8%AF%81%5D%0A%20%20%20%20K%20--%3E%20L%0A%20%20%20%20L%20--%3E%20M%5B%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96%5D%0A%20%20%20%20M%20--%3E%20N%5B%E4%BB%A3%E7%A0%81%E6%A3%80%E6%9F%A5%5D%0A%20%20%20%20N%20--%3E%20O%5B%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%9F%A5%5D%0A%20%20%20%20O%20--%3E%20P%5B%E8%BF%90%E8%A1%8C%E6%B5%8B%E8%AF%95%5D%0A%20%20%20%20P%20--%3E%20Q%5B%E6%9E%84%E5%BB%BA%E6%89%80%E6%9C%89%E5%8C%85%5D%0A%20%20%20%20Q%20--%3E%20R%5B%E9%AA%8C%E8%AF%81%E6%9E%84%E5%BB%BA%E4%BA%A7%E7%89%A9%5D%0A%20%20%20%20R%20--%3E%20S%5B%E5%8F%91%E5%B8%83%E5%88%B0%20NPM%5D%0A%20%20%20%20S%20--%3E%20T%5B%E5%AE%8C%E6%88%90%5D%0A%0A%20%20%20%20style%20A%20fill%3A%23e1f5ff%0A%20%20%20%20style%20T%20fill%3A%23c8e6c9%0A%20%20%20%20style%20D%20fill%3A%23ffcdd2%0A%20%20%20%20style%20G%20fill%3A%23ffcdd2%0A"
      }, null, _parent));
    },
    fallback: () => {
      _push(` Loading... `);
    },
    _: 1
  });
  _push(`<h3 id="详细步骤" tabindex="-1">详细步骤 <a class="header-anchor" href="#详细步骤" aria-label="Permalink to &quot;详细步骤&quot;">​</a></h3><ol><li><p><strong>环境检查</strong></p><ul><li>NPM 认证检查</li><li>Git 状态检查（工作区干净）</li><li>远程同步检查</li></ul></li><li><p><strong>版本管理</strong>（可选）</p><ul><li>选择版本类型（major/minor/patch）</li><li>更新所有包的版本号（包括根目录）</li><li>同步 workspace 依赖版本</li><li>提交到 Git 并创建标签</li></ul></li><li><p><strong>构建验证</strong></p><ul><li>清理构建产物</li><li>安装依赖</li><li>代码检查（ESLint）</li><li>类型检查（TypeScript）</li><li>运行测试</li><li>构建所有包（Turbo/Nx）</li><li>验证构建产物</li></ul></li><li><p><strong>发布到 NPM</strong></p><ul><li>显示将要发布的包列表</li><li>检查已存在的版本</li><li>Dry-run 测试（可选）</li><li>正式发布</li></ul></li></ol><h2 id="🎯-使用示例" tabindex="-1">🎯 使用示例 <a class="header-anchor" href="#🎯-使用示例" aria-label="Permalink to &quot;🎯 使用示例&quot;">​</a></h2><h3 id="基本发布" tabindex="-1">基本发布 <a class="header-anchor" href="#基本发布" aria-label="Permalink to &quot;基本发布&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}"># 1. 确保代码已提交</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">git</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> add</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> .</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">git</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> commit</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> -m</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> &quot;feat: 新功能&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}"># 2. 运行发布</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">pnpm</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> release</span></span>
<span class="line"></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}"># 3. 按照提示操作</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}"># - 选择是否更新版本</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}"># - 选择版本类型（major/minor/patch）</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}"># - 确认发布</span></span></code></pre></div><h3 id="跳过版本更新" tabindex="-1">跳过版本更新 <a class="header-anchor" href="#跳过版本更新" aria-label="Permalink to &quot;跳过版本更新&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}"># 只发布，不更新版本</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">qingniao</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> --skip-version</span></span></code></pre></div><h3 id="仅验证构建" tabindex="-1">仅验证构建 <a class="header-anchor" href="#仅验证构建" aria-label="Permalink to &quot;仅验证构建&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}"># 不发布，只验证构建</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">qingniao</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> --skip-publish</span></span></code></pre></div><h3 id="非交互模式-ci-cd" tabindex="-1">非交互模式（CI/CD） <a class="header-anchor" href="#非交互模式-ci-cd" aria-label="Permalink to &quot;非交互模式（CI/CD）&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}"># 跳过所有确认提示</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">qingniao</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> --yes</span></span></code></pre></div><h3 id="dry-run-模式" tabindex="-1">Dry-run 模式 <a class="header-anchor" href="#dry-run-模式" aria-label="Permalink to &quot;Dry-run 模式&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}"># 执行完整流程但不实际发布</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">qingniao</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> --dry-run</span></span></code></pre></div><h2 id="🔧-自定义配置-可选" tabindex="-1">🔧 自定义配置（可选） <a class="header-anchor" href="#🔧-自定义配置-可选" aria-label="Permalink to &quot;🔧 自定义配置（可选）&quot;">​</a></h2><p><strong>默认情况下，完全不需要配置文件！</strong> 所有配置都自动检测。</p><p>如果确实需要覆盖某些自动检测的结果，可以创建 <code>qingniao.config.json</code>：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">{</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}">    &quot;git&quot;</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">: {</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}">        &quot;branch&quot;</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">: </span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">&quot;develop&quot;</span><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}"> // 覆盖：默认自动检测当前分支</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">    },</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}">    &quot;build&quot;</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">: {</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}">        &quot;steps&quot;</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">: [</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}">            // 覆盖：默认从 package.json scripts 自动生成</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">        ]</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">    }</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">}</span></span></code></pre></div><h3 id="配置文件优先级" tabindex="-1">配置文件优先级 <a class="header-anchor" href="#配置文件优先级" aria-label="Permalink to &quot;配置文件优先级&quot;">​</a></h3><ol><li>命令行 <code>--config</code> 指定的文件</li><li><code>qingniao.config.json</code>（如果存在）</li><li><code>package.json</code> 中的 <code>qingniao</code> 字段（如果存在）</li><li><strong>零配置自动检测</strong>（默认，推荐）</li></ol><h3 id="完整配置示例" tabindex="-1">完整配置示例 <a class="header-anchor" href="#完整配置示例" aria-label="Permalink to &quot;完整配置示例&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}">// qingniao.config.ts</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">import</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> { PublishConfig } </span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">from</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> &quot;@systembug/qingniao&quot;</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">;</span></span>
<span class="line"></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">export</span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}"> default</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> {</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">    project: {</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">        name: </span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">&quot;My Project&quot;</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">,</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">        packageManager: </span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">&quot;pnpm&quot;</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">,</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">    },</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">    git: {</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">        branch: </span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">&quot;main&quot;</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">,</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">        tagPrefix: </span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">&quot;v&quot;</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">,</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">    },</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">    version: {</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">        strategy: </span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">&quot;changeset&quot;</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">,</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">        syncAll: </span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}">true</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">,</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">    },</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">    build: {</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">        useNx: </span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}">true</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">, </span><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}">// 或 useTurbo: true</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">        nxTargets: [</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">&quot;build&quot;</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">], </span><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}">// 或 turboTasks: [&quot;build&quot;]</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">    },</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">    publish: {</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">        skipExisting: </span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}">true</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">,</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">    },</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">} </span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">satisfies</span><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}"> PublishConfig</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">;</span></span></code></pre></div><h2 id="🔍-核心功能详解" tabindex="-1">🔍 核心功能详解 <a class="header-anchor" href="#🔍-核心功能详解" aria-label="Permalink to &quot;🔍 核心功能详解&quot;">​</a></h2><h3 id="版本管理" tabindex="-1">版本管理 <a class="header-anchor" href="#版本管理" aria-label="Permalink to &quot;版本管理&quot;">​</a></h3><ul><li><strong>Changeset 集成</strong>：自动检测和使用 changeset</li><li><strong>手动版本</strong>：支持 major/minor/patch 手动选择</li><li><strong>版本同步</strong>：自动同步所有 workspace 包的版本（包括根目录）</li><li><strong>Workspace 协议</strong>：自动替换 <code>workspace:*</code> 为实际版本</li></ul><h3 id="构建验证" tabindex="-1">构建验证 <a class="header-anchor" href="#构建验证" aria-label="Permalink to &quot;构建验证&quot;">​</a></h3><ul><li><strong>自动推断</strong>：从 package.json scripts 自动生成构建步骤</li><li><strong>产物验证</strong>：自动检测和验证构建产物</li><li><strong>依赖顺序</strong>：按依赖关系拓扑排序构建</li><li><strong>Pre-lint 构建</strong>：支持在 lint 之前构建特定包（如 eslint-plugin）</li></ul><h3 id="npm-发布" tabindex="-1">NPM 发布 <a class="header-anchor" href="#npm-发布" aria-label="Permalink to &quot;NPM 发布&quot;">​</a></h3><ul><li><strong>智能发布</strong>：按依赖顺序发布包</li><li><strong>Dry-run 支持</strong>：发布前验证</li><li><strong>OTP 支持</strong>：自动处理 2FA 认证</li><li><strong>错误处理</strong>：详细的错误信息和恢复建议</li></ul><h2 id="🎨-青鸟哲学" tabindex="-1">🎨 青鸟哲学 <a class="header-anchor" href="#🎨-青鸟哲学" aria-label="Permalink to &quot;🎨 青鸟哲学&quot;">​</a></h2><p>正如古诗所描绘的，青鸟作为信使具有以下特质：</p><ul><li><strong>殷勤</strong>：主动检测和推断，无需繁琐配置</li><li><strong>可靠</strong>：确保版本同步、依赖正确、构建完整</li><li><strong>优雅</strong>：提供流畅的发布体验，如青鸟飞行般优雅</li><li><strong>智能</strong>：自动处理复杂逻辑，让开发者专注于代码</li></ul><h2 id="📚-相关文档" tabindex="-1">📚 相关文档 <a class="header-anchor" href="#📚-相关文档" aria-label="Permalink to &quot;📚 相关文档&quot;">​</a></h2><ul><li><a href="./../rfc/0001-universal-publish-tool.html">RFC 0001: 青鸟通用发布工具设计规范</a></li></ul><hr><blockquote><p><strong>蓬山此去无多路，青鸟殷勤为探看</strong> 让代码发布如青鸟传递消息般优雅流畅！</p></blockquote></div>`);
}
const _sfc_setup = _sfc_main.setup;
_sfc_main.setup = (props, ctx) => {
  const ssrContext = useSSRContext();
  (ssrContext.modules || (ssrContext.modules = /* @__PURE__ */ new Set())).add("tools/qingniao.md");
  return _sfc_setup ? _sfc_setup(props, ctx) : void 0;
};
const qingniao = /* @__PURE__ */ _export_sfc(_sfc_main, [["ssrRender", _sfc_ssrRender]]);
export {
  __pageData,
  qingniao as default
};
